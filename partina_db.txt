#create database parti;
use parti;
create table users(
    user_id int(11) PRIMARY KEY AUTO_INCREMENT,
    user_name varchar(255) NOT NULL,
    user_email varchar(255) unique NOT NULL ,
    phone_nom varchar(255) NOT NULL,
    user_pw varchar(255) NOT NULL,
    acc_status tinyint,
    verfication_code int(11),
    user_img longblob
);

create table packages(
	event_id int PRIMARY KEY AUTO_INCREMENT,
    event_type varchar(255) NOT null,
	package_details varchar(255),
    booking_date date NOT null,
    booking_time time not null,
    nom_people int,
    transport varchar(255),
    eventID int REFERENCES users (user_id)
);

create TABLE address(
	add_id int(11) primary KEY AUTO_INCREMENT,
    country varchar(255) NOT NULL,
    region varchar(255) NOT NULL,
    st_address varchar(255) NOT NULL,
    postal_code varchar(255),
    addID int REFERENCES users (user_id)
);

create TABLE parteners_acc(
    partiner_id int PRIMARY KEY AUTO_INCREMENT,
    partiner_name varchar(255) NOT NULL,
    partiner_email varchar(255) not null unique,
    partiner_type varchar(255), #store category
    partiner_pw varchar(255) not null
);

CREATE TABLE cake(
    cake_id int PRIMARY KEY AUTO_INCREMENT,
    cake_name varchar(255) NOT null,
    cake_details varchar(255) NOT null,
    cake_img longblob NOT null,
    partiner_id int references parteners_acc(partiner_id)  
    ### view
    ###########
);

CREATE TABLE partner_request(
    request_id int PRIMARY KEY AUTO_INCREMENT,
    usename varchar(255) NOT NULL,
    partener_type varchar(255) NOT NULL,
    team_nom int,
    parenir_email varchar(255) NOT NULL,
    parenir_phone varchar(255)
);

create table admin(
    admin_id int(11) PRIMARY KEY AUTO_INCREMENT,
    admin_name varchar(255) NOT NULL,
    admin_email varchar(255) NOT NULL unique,
    admin_pw varchar(255) not null,
    addID int REFERENCES users (user_id),
    partiner_id int references parteners_acc(partiner_id) 
);

CREATE TABLE cart (
  cart_id int(11) PRIMARY KEY,
  product_name varchar(100) NOT NULL,
  product_price varchar(50) NOT NULL,
  product_image varchar(255) NOT NULL,
  product_qty int(10) NOT NULL,
  total_price varchar(100) NOT NULL,
  product_code varchar(10) NOT NULL,
  addID int REFERENCES users (user_id)
) ;


CREATE TABLE `product` (
  product_id int(11) PRIMARY KEY,
  product_name varchar(100) NOT NULL,
  product_price float DEFAULT NULL,
  product_image varchar(255) NOT NULL,
  product_code varchar(10) NOT NULL
);

CREATE TABLE orders (
    order_id int PRIMARY key,
    order_name varchar(100) NOT NULL,
    order_email varchar(100) NOT NULL,
    order_phone varchar(20) NOT NULL,
    order_address varchar(255) NOT NULL,
    payment_mode varchar(50) NOT NULL,
    order_products varchar(255) NOT NULL,
    amount_paid varchar(100) NOT NULL,
    addID int REFERENCES users (user_id),
    cart_id int REFERENCES cart (cart_id),
    product_id int REFERENCES product(product_id)
) ;

